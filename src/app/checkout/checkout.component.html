<div *ngIf="completed">
    <h3>Your order has been successful!
        Thank you for shopping at Simple Music Store!</h3>
</div>
<div *ngIf="!completed">
    <h2>Select address</h2>
    <br>
    <form [formGroup]="selectAddressForm" (ngSubmit)="onSubmit()">
        <div *ngFor="let address of addresses" class="radio">
            <label><input formControlName="address" type="radio" [value]="address.id">{{address.street}},
                {{address.city}}, {{address.country}}</label>
        </div>
        <div class="radio">
            <label class="font-italic"><input formControlName="address" type="radio" [value]="0">Add new
                address</label>
        </div>
        <div *ngIf="selectAddressForm.get('address').value === 0" class="row">
            <form [formGroup]="newAddressForm">
                <div class="form-group col-xs-6">
                    <label for="country"><strong>Country:</strong></label>
                    <input type="text" id="country" class="form-control" placeholder="Enter country"
                        formControlName="country"
                        [ngClass]="{ 'is-invalid': newAddressForm.get('country').errors && submitted }">
                    <div *ngIf="submitted" class="invalid-feedback">
                        <div class="text-danger">Country is required</div>
                    </div>
                </div>
                <div class="form-group col-xs-6">
                    <label for="city"><strong>City:</strong></label>
                    <input type="text" id="city" class="form-control" placeholder="Enter city" formControlName="city"
                        [ngClass]="{ 'is-invalid': newAddressForm.get('city').errors && submitted }">
                    <div *ngIf="submitted" class="invalid-feedback">
                        <div class="text-danger">City is required</div>
                    </div>
                </div>
                <div class="form-group col-xs-6">
                    <label for="country"><strong>Street:</strong></label>
                    <input type="text" id="street" class="form-control" placeholder="Enter street"
                        formControlName="street"
                        [ngClass]="{ 'is-invalid': newAddressForm.get('street').errors && submitted }">
                    <div *ngIf="submitted" class="invalid-feedback">
                        <div class="text-danger">Street is required</div>
                    </div>
                </div>
            </form>
        </div>
        <div *ngIf="submitted && selectAddressForm.get('address').errors">
            <p class="text-danger">Select an address</p>
        </div>
        <button type="submit" class="btn btn-dark">Complete</button>
    </form>
</div>